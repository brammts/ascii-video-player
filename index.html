<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∏–¥–µ–æ –≤ ASCII-–∞—Ä—Ç</title>
    <link rel="stylesheet" href="src/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∏–¥–µ–æ –≤ ASCII-–∞—Ä—Ç</h1>
            <p>–ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –≤–∏–¥–µ–æ –≤ ASCII —Å–∏–º–≤–æ–ª—ã –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Video Upload Section -->
            <section class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <div class="upload-icon">üìÅ</div>
                        <h3>–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ—Ñ–∞–π–ª</h3>
                        <p>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: MP4, AVI, MOV, MKV, WMV</p>
                        <input type="file" id="videoInput" accept="video/*" hidden>
                        <button class="upload-btn">
                            –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
                        </button>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                    <div class="new-video-section" id="newVideoSection" style="display: none;">
                        <button class="new-video-btn" id="newVideoBtn">
                            <span class="btn-icon">üìÅ</span>
                            <span class="btn-text">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ</span>
                        </button>
                    </div>
                </div>
                
                <!-- Video Loading Progress -->
                <div class="video-loading-progress" id="videoLoadingProgress" style="display: none;">
                    <div class="loading-content">
                        <div class="loading-icon">‚è≥</div>
                        <h3>–ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ...</h3>
                        <p id="loadingStatus">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∑–∞–≥—Ä—É–∑–∫–µ</p>
                        <div class="loading-progress-bar">
                            <div class="loading-progress-fill" id="loadingProgressFill"></div>
                        </div>
                        <div class="loading-details">
                            <span id="loadingProgressText">0%</span>
                            <span id="loadingTimeInfo">00:00</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Panel -->
            <section class="settings-panel" id="settingsPanel" style="display: none;">
                <div class="settings-header">
                    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è</h3>
                </div>
                <div class="settings-grid">
                    <div class="setting-group">
                        <label for="qualitySelect">–ö–∞—á–µ—Å—Ç–≤–æ:</label>
                        <select id="qualitySelect">
                            <option value="low">–ù–∏–∑–∫–æ–µ (–±—ã—Å—Ç—Ä–æ)</option>
                            <option value="medium">–°—Ä–µ–¥–Ω–µ–µ</option>
                            <option value="high" selected>–í—ã—Å–æ–∫–æ–µ</option>
                            <option value="ultra">–£–ª—å—Ç—Ä–∞</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label for="widthInput">–®–∏—Ä–∏–Ω–∞ (—Å–∏–º–≤–æ–ª–æ–≤):</label>
                        <input type="number" id="widthInput" value="120" min="40" max="200">
                        <small class="setting-hint">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 60 –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö, 120 –¥–ª—è –ü–ö</small>
                    </div>
                    
                    <div class="setting-group">
                        <label for="heightInput">–í—ã—Å–æ—Ç–∞ (—Å–∏–º–≤–æ–ª–æ–≤):</label>
                        <input type="number" id="heightInput" value="40" min="15" max="100">
                        <small class="setting-hint">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 20 –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö, 40 –¥–ª—è –ü–ö</small>
                    </div>
                    
                    <div class="setting-group">
                        <button id="preprocessBtn" class="control-btn preprocess-btn">
                            <span class="btn-icon">‚ö°</span>
                            <span class="btn-text">–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–∏–¥–µ–æ</span>
                        </button>
                        <small class="setting-hint">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤–∏–¥–µ–æ –≤ ASCII –∑–∞—Ä–∞–Ω–µ–µ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è</small>
                    </div>
                    
                    <div class="setting-group" style="display: none;">
                        <button id="clearCacheBtn" class="control-btn clear-cache-btn">
                            <span class="btn-icon">üóëÔ∏è</span>
                            <span class="btn-text">–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à</span>
                        </button>
                        <small class="setting-hint">–£–¥–∞–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ</small>
                    </div>
                    
                </div>
            </section>

            <!-- Preprocessing Progress -->
            <section class="preprocessing-progress" id="preprocessingProgress" style="display: none;">
                <div class="preprocessing-content">
                    <div class="preprocessing-icon">‚ö°</div>
                    <h3>–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ...</h3>
                    <p id="preprocessingStatus">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ</p>
                    <div class="preprocessing-progress-bar">
                        <div class="preprocessing-progress-fill" id="preprocessingProgressFill"></div>
                    </div>
                    <div class="preprocessing-details">
                        <span id="preprocessingProgressText">0%</span>
                        <span id="preprocessingFrameInfo">0 / 0 –∫–∞–¥—Ä–æ–≤</span>
                    </div>
                    <button id="cancelPreprocessingBtn" class="control-btn cancel-btn">
                        <span class="btn-icon">‚ùå</span>
                        <span class="btn-text">–û—Ç–º–µ–Ω–∏—Ç—å</span>
                    </button>
                </div>
            </section>

            <!-- ASCII Display -->
            <section class="ascii-display-section" id="asciiDisplaySection" style="display: none;">
                <div class="ascii-container">
                    <div class="ascii-screen" id="asciiScreen">
                        <div class="ascii-content" id="asciiContent">
                            <!-- ASCII content will be rendered here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Controls -->
            <section class="controls" id="controls" style="display: none;">
                <div class="control-buttons">
                    <button id="playBtn" class="control-btn play-btn">
                        <span class="btn-icon">‚ñ∂Ô∏è</span>
                        <span class="btn-text">–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏</span>
                    </button>
                    
                    <button id="pauseBtn" class="control-btn pause-btn" disabled>
                        <span class="btn-icon">‚è∏Ô∏è</span>
                        <span class="btn-text">–ü–∞—É–∑–∞</span>
                    </button>
                    
                    <button id="stopBtn" class="control-btn stop-btn" disabled>
                        <span class="btn-icon">‚èπÔ∏è</span>
                        <span class="btn-text">–°—Ç–æ–ø</span>
                    </button>
                    
                    <button id="recordBtn" class="control-btn record-btn" disabled>
                        <span class="btn-icon">üî¥</span>
                        <span class="btn-text">–ó–∞–ø–∏—Å–∞—Ç—å MP4</span>
                    </button>
                    
                    <button id="stopRecordBtn" class="control-btn stop-record-btn" disabled>
                        <span class="btn-icon">‚èπÔ∏è</span>
                        <span class="btn-text">–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</span>
                    </button>
                    
                    
                    <button id="copyFrameBtn" class="control-btn copy-btn" disabled>
                        <span class="btn-icon">üíæ</span>
                        <span class="btn-text">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–¥—Ä</span>
                    </button>
                </div>
                
                <div class="progress-section">
                    <div class="progress-info">
                        <span id="progressText">–ì–æ—Ç–æ–≤ –∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é</span>
                        <span id="timeInfo">00:00 / 00:00</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>
            </section>

            <!-- Status Messages -->
            <div class="status-messages" id="statusMessages"></div>
        </main>


        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <p>–ë—É–¥—É —Ä–∞–¥, –µ—Å–ª–∏ –ø–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –º–æ–π –∫–∞–Ω–∞–ª –≤ Telegram :3</p>
                <div class="footer-links">
                    <a href="https://t.me/deadmenwalkingout" target="_blank" class="telegram-link">
                        <img src="img/telegram.png" alt="Telegram" class="link-icon-img">
                        <span class="link-text">–ú–æ–π Telegram</span>
                    </a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="src/video-processor.js?v=1.4"></script>
    <script src="src/video-preprocessor.js?v=1.4"></script>
    <script src="src/ascii-renderer.js?v=1.4"></script>
    <script src="src/video-recorder.js?v=1.4"></script>
    <script src="src/ascii-formatter.js?v=1.4"></script>
    <script src="src/app.js?v=1.4"></script>
</body>
</html>
